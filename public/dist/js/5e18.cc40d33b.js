(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["5e18"],{"5e18":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("TopButtons"),a("div",{staticStyle:{height:"10px"}}),a("filter-component",{attrs:{fields:e.filterFields},on:{handleSearch:e.handleSearch}}),a("div",{staticStyle:{height:"10px"}}),a("a-alert",{attrs:{message:"功能提示",description:"显示登录用户发起的会议，拥有编辑、删除操作。对于已经通过审核的会议只允许浏览，不允许编辑、删除。",type:"info",showIcon:""}}),a("div",{staticStyle:{height:"10px"}}),a("table-component",{ref:"table",attrs:{columns:e.columns,request:e.tableRequest},on:{handleOperate:e.handleOperate}}),a("meeting-check",{attrs:{id:e.meetingId},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}})],1)},n=[],s=a("58d0"),l=a("6af2"),d=a("e8c4"),o=a("a2ac"),c=a("e47b"),r={components:{TopButtons:s["a"],filterComponent:o["a"],tableComponent:d["a"],MeetingCheck:c["a"]},data:function(){return{modalTitle:null,modalVisible:!1,meetingId:0,visible:!1,columns:[{title:"#",dataIndex:"index",scopedSlots:{customRender:"index"}},{title:"会议议题",dataIndex:"title",key:"title"},{title:"会议地点",dataIndex:"location",key:"location"},{title:"会议开始时间",dataIndex:"opened_at",key:"opened_at"},{title:"申请人",dataIndex:"initiate_user.name",key:"initiate_user.name"},{title:"会议类型",dataIndex:"type_format",key:"type_format"},{title:"参会人员",dataIndex:"attend_users_count",key:"attend_users_count"},{title:"审核状态",dataIndex:"audit.status_format",key:"audit.status_format"},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"},buttons:{check:{visible:!0,disable:!1},edit:{visible:!0,disable:function(e){if(!e.need_audit)return!1;switch(e.audit.status){case 0:case 2:case 4:return!1;case 1:case 3:case 5:return!0}}},delete:{visible:!0,disable:!1}}}],tableRequest:l["i"],filterFields:[{label:"参会人员",field:"user_id"},{label:"党支部",field:"department_id"},{label:"开始时间",field:"start_timestamp"},{label:"结束时间",field:"end_timestamp"},{label:"关键字",field:"keyword"}]}},methods:{handleSearch:function(e){this.$refs.table.handleSearch(e)},handleCheck:function(e){this.meetingId=e,this.visible=!0},handleOperate:function(e,t){var a=this;switch(e){case"check":this.handleCheck(t.id);break;case"edit":this.$router.push({name:"会议编辑",params:{id:t.id}});break;case"delete":Object(l["d"])(t.id).then(function(e){a.$message.success("删除成功"),a.$refs.table.reFetch()});break}}}},u=r,h=a("2877"),p=Object(h["a"])(u,i,n,!1,null,null,null);p.options.__file="Index.vue";t["default"]=p.exports}}]);
//# sourceMappingURL=5e18.cc40d33b.js.map