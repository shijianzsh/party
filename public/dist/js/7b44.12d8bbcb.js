(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["7b44"],{"7b44":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table-component",{ref:"table",attrs:{columns:e.columns,request:e.tableRequest},on:{handleOperate:e.handleOperate}},[n("template",{slot:"top"},[n("a-button",{attrs:{type:"primary"},on:{click:function(t){e.handleCreate()}}},[e._v("新增\n            ")]),n("div",{staticStyle:{height:"10px"}})],1)],2),n("modal",{ref:"modal",attrs:{id:e.departmentId,parentId:e.departmentParentId}})],1)},i=[],s=n("0e8f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{width:"90%",title:e.title,footer:null,destroyOnClose:!0},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("FormComponent",{attrs:{id:e.id,parentId:e.parentId}})],1)],1)},l=[],r=(n("c5f6"),n("57f5")),o={components:{FormComponent:r["a"]},props:{id:{required:!0,type:Number},parentId:{required:!0,type:Number}},data:function(){return{visible:!1,title:""}},methods:{show:function(){this.id?this.title="编辑单位":this.title="新增单位",this.visible=!0}}},c=o,u=n("2877"),p=Object(u["a"])(c,d,l,!1,null,null,null);p.options.__file="Modal.vue";var h=p.exports,m=n("e8c4"),b=[{title:"单位名称",dataIndex:"name",key:"name"},{title:"人员数量",dataIndex:"users_count",key:"users_count"},{title:"创建日期",dataIndex:"established_at",key:"established_at"},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"},buttons:{create:{visible:!0,disable:!1,title:"新增子单位"},edit:{visible:!0,disable:!1},delete:{visible:!0,disable:!1}}}],f={components:{modal:h,tableComponent:m["a"]},data:function(){return{data:[],columns:b,tableRequest:s["g"],departmentId:0,departmentParentId:0}},methods:{handleCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.departmentId=0,this.departmentParentId=e,this.$refs.modal.show()},handleEdit:function(e){this.departmentId=e.id,this.departmentParentId=0,this.$refs.modal.show()},handleDelete:function(e){},handleOperate:function(e,t){var n=this;switch(e){case"create":this.handleCreate(t.id);break;case"edit":this.handleEdit(t);break;case"delete":Object(s["b"])(t.id).then(function(e){n.$message.success("删除成功"),n.$refs.table.reFetch()});break}}},created:function(){}},v=f,I=Object(u["a"])(v,a,i,!1,null,null,null);I.options.__file="Index.vue";t["default"]=I.exports}}]);
//# sourceMappingURL=7b44.12d8bbcb.js.map