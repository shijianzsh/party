{"version":3,"sources":["webpack:///./src/views/super/单位管理/Index.vue?92a0","webpack:///./src/views/super/单位管理/Modal.vue?8282","webpack:///src/views/super/单位管理/Modal.vue","webpack:///./src/views/super/单位管理/Modal.vue?2d64","webpack:///./src/views/super/单位管理/Modal.vue","webpack:///src/views/super/单位管理/Index.vue","webpack:///./src/views/super/单位管理/Index.vue?ab7a","webpack:///./src/views/super/单位管理/Index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","columns","request","tableRequest","on","handleOperate","slot","type","click","$event","handleCreate","_v","staticStyle","height","id","departmentId","parentId","departmentParentId","staticRenderFns","Modalvue_type_template_id_272f457d_render","width","title","footer","destroyOnClose","model","value","callback","$$v","visible","expression","Modalvue_type_template_id_272f457d_staticRenderFns","Modalvue_type_script_lang_js_","components","FormComponent","Index","props","required","Number","data","methods","show","_Modalvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","Modal","dataIndex","key","scopedSlots","customRender","buttons","create","disable","edit","delete","Indexvue_type_script_lang_js_","modal","tableComponent","table","department","arguments","length","undefined","$refs","handleEdit","catagory","handleDelete","catagoryId","row","_this","then","res","$message","success","reFetch","created","_Indexvue_type_script_lang_js_","Index_component","__webpack_exports__"],"mappings":"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","file":"js/7b44.12d8bbcb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('table-component',{ref:\"table\",attrs:{\"columns\":_vm.columns,\"request\":_vm.tableRequest},on:{\"handleOperate\":_vm.handleOperate}},[_c('template',{slot:\"top\"},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleCreate()}}},[_vm._v(\"新增\\n            \")]),_c('div',{staticStyle:{\"height\":\"10px\"}})],1)],2),_c('modal',{ref:\"modal\",attrs:{\"id\":_vm.departmentId,\"parentId\":_vm.departmentParentId}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-modal',{attrs:{\"width\":\"90%\",\"title\":_vm.title,\"footer\":null,\"destroyOnClose\":true},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('FormComponent',{attrs:{\"id\":_vm.id,\"parentId\":_vm.parentId}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <a-modal\n                width=\"90%\"\n                :title=\"title\"\n                v-model=\"visible\"\n                :footer=\"null\"\n                :destroyOnClose=\"true\">\n            <FormComponent :id=\"id\" :parentId=\"parentId\"/>\n        </a-modal>\n    </div>\n</template>\n<script>\n    import FormComponent from '@/components/department/form/Index.vue'\n\n    export default {\n        components: {\n            FormComponent\n        },\n        props:{\n            id:{required:true,type:Number},\n            parentId:{required:true,type:Number},\n        },\n        data() {\n            return {\n                visible: false,\n                title: '',\n            }\n        },\n        methods: {\n            show() {\n                if (this.id) {\n                    this.title = '编辑单位';\n                } else {\n                    this.title = '新增单位';\n                }\n                this.visible = true\n            },\n        }\n    }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=272f457d&\"\nimport script from \"./Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Modal.vue\"\nexport default component.exports","<template>\n    <div>\n        <table-component\n                ref=\"table\"\n                @handleOperate=\"handleOperate\"\n                :columns=\"columns\"\n                :request=\"tableRequest\">\n            <template slot=\"top\">\n                <a-button type=\"primary\"\n                          @click=\"handleCreate()\">新增\n                </a-button>\n                <div style=\"height: 10px\"></div>\n            </template>\n        </table-component>\n        <modal ref=\"modal\" :id=\"departmentId\" :parentId=\"departmentParentId\"/>\n    </div>\n</template>\n\n<script>\n    import {getDepartmentTreeList, getDepartment, deleteDepartment} from '@/api/department'\n    import modal from './Modal.vue'\n    import tableComponent from '@/components/table'\n\n    const columns = [\n        {\n            title: '单位名称',\n            dataIndex: 'name',\n            key: 'name',\n        },\n        {\n            title: '人员数量',\n            dataIndex: 'users_count',\n            key: 'users_count',\n        },\n        {\n            title: '创建日期',\n            dataIndex: 'established_at',\n            key: 'established_at',\n        },\n        {\n            title: '操作',\n            dataIndex: 'operation',\n            scopedSlots: {customRender: 'operation'},\n            buttons: {\n                create: {visible: true, disable: false, title: '新增子单位'},\n                edit: {visible: true, disable: false,},\n                delete: {visible: true, disable: false,},\n            }\n        }\n    ];\n\n    export default {\n        components: {modal, tableComponent},\n        data() {\n            return {\n                data: [],\n                columns,\n                tableRequest: getDepartmentTreeList,\n                departmentId: 0,\n                departmentParentId: 0,\n            }\n        },\n        methods: {\n            handleCreate(parentId = 0) {\n                this.departmentId = 0;\n                this.departmentParentId = parentId;\n                this.$refs.modal.show();\n            },\n            handleEdit(catagory) {\n                this.departmentId = catagory.id;\n                this.departmentParentId = 0;\n                this.$refs.modal.show();\n            },\n            handleDelete(catagoryId) {\n\n            },\n            handleOperate(type, row) {\n                switch (type) {\n                    case 'create':\n                        this.handleCreate(row.id);\n                        break;\n                    case 'edit':\n                        this.handleEdit(row);\n                        break;\n                    case 'delete':\n                        deleteDepartment(row.id)\n                            .then(res => {\n                                this.$message.success('删除成功');\n                                this.$refs.table.reFetch();\n                            });\n                        break;\n                }\n            },\n        },\n        created() {\n\n        }\n    }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=03658a16&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Index.vue\"\nexport default component.exports"],"sourceRoot":""}