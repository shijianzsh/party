(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2781"],{"0540":function(t,e,n){"use strict";var i=function(){var t=this,e=this,n=e.$createElement,i=e._self._c||n;return i("div",[i("div",{staticStyle:{"margin-top":"20px"}}),i("a-divider",{attrs:{orientation:"left"}},[e._v("审核")]),i("a-form",{on:{submit:e.handleSubmit}},[i("a-form-item",{attrs:{label:"操作",labelCol:{span:3},wrapperCol:{span:15},fieldDecoratorOptions:{valuePropName:"checked"}}},[i("a-radio-group",{attrs:{buttonStyle:"solid"},on:{change:function(e){t.isReasonShow=!e.target.value}},model:{value:e.value.is_passed,callback:function(t){e.$set(e.value,"is_passed",t)},expression:"value.is_passed"}},[i("a-radio-button",{attrs:{value:1}},[e._v("通过")]),i("a-radio-button",{attrs:{value:0}},[e._v("不通过")])],1)],1),i("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isReasonShow,expression:"isReasonShow"}],attrs:{label:"不通过的原因",labelCol:{span:3},wrapperCol:{span:15}}},[i("a-textarea",{attrs:{rows:4},model:{value:e.value.reason,callback:function(t){e.$set(e.value,"reason",t)},expression:"value.reason"}})],1),i("a-form-item",{attrs:{wrapperCol:{span:12,offset:3}}},[i("a-button",{attrs:{type:"primary",htmlType:"submit",disabled:e.isDisabled}},[e._v("\n                提交\n            ")])],1)],1)],1)},a=[],s={components:{},props:{value:{required:!1,type:Object,default:function(){return{is_passed:null,reason:null}}}},model:{prop:"value",event:"change"},data:function(){return{isReasonShow:!1,isDisabled:!1}},computed:{},methods:{beforeSubmit:function(){return!0},handleSubmit:function(t){t.preventDefault(),this.$emit("submit",this.value)}}},r=s,o=n("2877"),u=Object(o["a"])(r,i,a,!1,null,null,null);u.options.__file="Index.vue";var l=u.exports;e["a"]=l},"089f":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{margin:"20px 0 20px 0"}},[n("a-steps",{staticStyle:{"min-width":"500px","max-width":"800px",margin:"0 auto"},attrs:{current:t.current,status:t.status}},t._l(t.data,function(t,e){return n("a-step",{attrs:{title:t.title,description:t.description}})}))],1)},a=[],s=(n("c5f6"),{name:"Step",props:{current:{required:!0,type:Number},status:{required:!1,type:String,default:function(){return"process"}}},data:function(){return{data:[{title:"申请",description:"申请人发起会议"},{title:"审批",description:"领导审批会议"},{title:"预约、通知",description:"预约会场，同时发起通知"},{title:"完成审核",description:"准备正式开会"}]}}}),r=s,o=(n("8ffd"),n("2877")),u=Object(o["a"])(r,i,a,!1,null,"c7a4c644",null);u.options.__file="Index.vue";e["a"]=u.exports},"3a72":function(t,e,n){},"4e35":function(t,e,n){"use strict";var i=n("3a72"),a=n.n(i);a.a},"5d5e":function(t,e,n){},"5f9e":function(t,e,n){"use strict";var i=n("f883"),a=n.n(i);a.a},"7f7f":function(t,e,n){var i=n("86cc").f,a=Function.prototype,s=/^\s*function ([^ (]*)/,r="name";r in a||n("9e1e")&&i(a,r,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},"8ffd":function(t,e,n){"use strict";var i=n("5d5e"),a=n.n(i);a.a},"992e":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("TopButtons"),n("div",{staticStyle:{height:"10px"}}),n("a-spin",{attrs:{spinning:t.spinning}},[n("a-card",[n("step",{attrs:{current:t.stepCurrent,status:t.stepStatus}}),n("info",{attrs:{id:t.thisId}}),2===t.stepCurrent?n("AuditForm",{attrs:{id:t.thisId},on:{submit:t.submit},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}}):t._e()],1)],1)],1)},a=[],s=(n("c5f6"),n("58d0")),r=n("089f"),o=n("bddd"),u=n("0540"),l=n("6af2"),c={name:"Index",components:{TopButtons:s["a"],Step:r["a"],Info:o["a"],AuditForm:u["a"]},props:{id:{required:!0,type:[String,Number]}},data:function(){return{spinning:!0,audit:null,form:{}}},computed:{thisId:function(){return parseInt(this.id)},stepCurrent:function(){return null===this.audit?-1:0===this.audit.status?1:(this.audit.status,2)},stepStatus:function(){return null===this.audit?"process":0===this.audit.status?"process":this.audit.status<0?"error":"finish"}},methods:{init:function(){var t=this;this.thisId&&Object(l["h"])(this.thisId).then(function(e){t.audit=e.data.audit,t.spinning=!1})},submit:function(t){var e=this,n={status:t.is_passed?3:4,reason:t.reason};Object(l["a"])(this.id,n).then(function(){var t="提交成功";e.$message.success(t)})}},mounted:function(){this.init()}},d=c,p=(n("4e35"),n("2877")),f=Object(p["a"])(d,i,a,!1,null,"34c995f9",null);f.options.__file="Index.vue";e["default"]=f.exports},bddd:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-spin",{attrs:{spinning:t.spinning}},[n("a-list",{staticStyle:{padding:"0 50px 20px 50px"},attrs:{split:!1,itemLayout:"horizontal",dataSource:t.data},scopedSlots:t._u([{key:"renderItem",fn:function(e,i){return n("a-list-item",{},[n("a-list-item-meta",{attrs:{description:e.info}},[n("a",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])],1)}}])})],1)},a=[],s=(n("7f7f"),n("c5f6"),n("6af2")),r={name:"Info",props:{id:{required:!0,type:Number}},data:function(){return{spinning:!0,data:[]}},methods:{fetch:function(){var t=this;this.spinning=!0,0!==this.id&&Object(s["h"])(this.id).then(function(e){t.data=[{title:"会议时间",info:e.data.opened_at_format},{title:"会议地点",info:e.data.location},{title:"会议类型",info:e.data.type_format},{title:"会议发起人",info:e.data.initiate_user.name},{title:"审核人",info:e.data.audit.audit_user.name},{title:"参会人员",info:e.data.meeting_attend_user_name_format},{title:"参会领导",info:e.data.meeting_leader_name_format}],t.spinning=!1})}},mounted:function(){this.fetch()}},o=r,u=(n("5f9e"),n("2877")),l=Object(u["a"])(o,i,a,!1,null,"680ba404",null);l.options.__file="Index.vue";e["a"]=l.exports},f883:function(t,e,n){}}]);
//# sourceMappingURL=chunk-2781.2f9450b3.js.map