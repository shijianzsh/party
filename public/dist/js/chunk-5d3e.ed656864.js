(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d3e"],{"115b":function(e,t,a){"use strict";var r=function(){var e=this,t=this,a=t.$createElement,r=t._self._c||a;return r("a-form",{attrs:{autoFormCreate:function(t){e.form=t}},on:{submit:t.handleSubmit}},[r("a-card",{staticStyle:{width:"100%"},attrs:{title:"系统信息",bordered:!1}},[r("a-form-item",{attrs:{label:"所属党支部",labelCol:{span:5},wrapperCol:{span:18},fieldDecoratorId:"department_id"}},[r("SelectDepartment")],1),r("a-form-item",{attrs:{label:"角色",labelCol:{span:5},wrapperCol:{span:18},fieldDecoratorId:"role_ids"}},[r("SelectRole")],1),r("a-form-item",{attrs:{label:"账户类型",labelCol:{span:5},wrapperCol:{span:18},fieldDecoratorOptions:{valuePropName:"checked"},fieldDecoratorId:"type"}},[r("a-select",[r("a-select-option",{attrs:{value:2}},[t._v("领导")]),r("a-select-option",{attrs:{value:3}},[t._v("党员")])],1)],1)],1),r("a-card",{staticStyle:{width:"100%"},attrs:{title:"基本信息",bordered:!1}},[r("a-form-item",{attrs:{label:"姓名",labelCol:{span:5},wrapperCol:{span:18},fieldDecoratorId:"user_name"}},[r("a-input")],1),r("a-form-item",{attrs:{label:"简介",labelCol:{span:5},wrapperCol:{span:18},fieldDecoratorId:"user_excerpt"}},[r("a-textarea",{attrs:{autosize:{minRows:2,maxRows:6}}})],1),r("a-form-item",{attrs:{label:"性别",labelCol:{span:5},wrapperCol:{span:18},fieldDecoratorOptions:{valuePropName:"checked"},fieldDecoratorId:"user_sex"}},[r("a-radio-group",{attrs:{buttonStyle:"solid"}},[r("a-radio-button",{attrs:{value:"男"}},[t._v("男")]),r("a-radio-button",{attrs:{value:"女"}},[t._v("女")])],1)],1),r("a-form-item",{attrs:{label:"职务",labelCol:{span:5},wrapperCol:{span:18},fieldDecoratorId:"user_duty"}},[r("a-input")],1),r("a-form-item",{attrs:{label:"照片",labelCol:{span:5},wrapperCol:{span:18},fieldDecoratorId:"more_thumbnail"}},[r("upload-thumbnail")],1)],1),t.id?t._e():[r("a-card",{staticStyle:{width:"100%"},attrs:{title:"账户信息",bordered:!1}},[r("a-form-item",{attrs:{label:"登录账户",labelCol:{span:5},wrapperCol:{span:18},fieldDecoratorId:"user_login"}},[r("a-input",{attrs:{disabled:!!this.id}},[r("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),r("a-form-item",{attrs:{label:"密码",labelCol:{span:5},wrapperCol:{span:18},fieldDecoratorId:"user_password"}},[r("a-input",{attrs:{type:"password"}},[r("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),r("a-form-item",{attrs:{label:"再次输入密码",labelCol:{span:5},wrapperCol:{span:18},fieldDecoratorId:"user_password2"}},[r("a-input",{attrs:{type:"password"}},[r("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1)],1)],r("a-form-item",{attrs:{wrapperCol:{span:12,offset:5}}},[r("a-button",{attrs:{type:"primary",htmlType:"submit"}},[t._v("\n            提交\n        ")])],1)],2)},n=[],o=(a("7f7f"),a("c5f6"),a("c24f")),i=a("9068"),l=a("a386"),s=a("67f5"),u=a("60f7"),c=a("88cd"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-checkbox-group",{attrs:{options:e.options,value:e.value},on:{change:e.onChange}})},p=[],f=(a("24b4"),a("1199")),m={props:{value:{required:!1,default:function(){return[]}},styleValue:{required:!1,default:function(){return{"min-width":"200px"}}}},model:{prop:"value",event:"change"},data:function(){return{options:[]}},methods:{init:function(){var e=this;Object(f["d"])({current_page:0,filter:{}}).then(function(t){for(var a=t.data.rows,r=[],n=0;n<a.length;n++)r.push({label:a[n].name,value:a[n].id});e.options=r})},onChange:function(e){this.$emit("change",e)}},watch:{},created:function(){this.init()}},h=m,v=a("2877"),b=Object(v["a"])(h,d,p,!1,null,null,null);b.options.__file="SelectRole.vue";var g=b.exports,_={components:{SelectDepartment:c["a"],selectCategory:u["a"],SelectRole:g,uploadThumbnail:i["a"],uploadImages:l["a"],uploadFiles:s["a"]},props:{id:{type:Number,default:0}},data:function(){return{log:console.log,form:null}},methods:{init:function(){var e=this;this.id&&Object(o["h"])(this.id).then(function(t){var a=t.data.more&&t.data.more.hasOwnProperty("thumbnail")?t.data.more.thumbnail:"";e.form.setFieldsValue({type:t.data.type,role_ids:t.data.role_ids,department_id:t.data.department_id,name:t.data.name,sex:t.data.sex,duty:t.data.duty,user_excerpt:t.data.user_excerpt,more_thumbnail:a})})},beforeSubmit:function(e){return e.preventDefault(),!0},handleSubmit:function(){var e,t=this,a=this.form.getFieldsValue();e=this.id?Object(o["m"])(this.id,a):Object(o["b"])(a),e.then(function(){var e=t.id?"更新成功":"新增成功";t.$message.success(e)})}},mounted:function(){this.init()}},w=_,y=Object(v["a"])(w,r,n,!1,null,null,null);y.options.__file="Index.vue";t["a"]=y.exports},1199:function(e,t,a){"use strict";a.d(t,"d",function(){return i}),a.d(t,"c",function(){return l}),a.d(t,"a",function(){return s}),a.d(t,"e",function(){return u}),a.d(t,"b",function(){return c});a("f751");var r=a("66df"),n=a("c0d6"),o="auth_roles/",i=function(e){var t=e.current_page,a=void 0===t?0:t,i=e.filter,l=void 0===i?{}:i,s={current_page:a,filter:l};return s=Object.assign(s,{token:n["a"].state.common.token,access_token:n["a"].state.common.access_token}),r["a"].request({url:o,method:"get",params:s})},l=function(e){var t={token:n["a"].state.common.token,access_token:n["a"].state.common.access_token};return r["a"].request({url:o+e,method:"get",params:t})},s=function(e){var t={data:Object.assign({user_id:n["a"].state.common.user_id},e)},a={token:n["a"].state.common.token,access_token:n["a"].state.common.access_token};return r["a"].request({url:o,method:"post",data:t,params:a})},u=function(e,t){var a={data:t},i={token:n["a"].state.common.token,access_token:n["a"].state.common.access_token};return r["a"].request({url:o+e,method:"put",data:a,params:i})},c=function(e){var t={token:n["a"].state.common.token,access_token:n["a"].state.common.access_token};return r["a"].request({url:o+e,method:"delete",params:t})}},4561:function(e,t,a){},"67f5":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.ready?a("a-upload",{attrs:{name:"file",multiple:!0,action:this.$store.state.common.uploadUrl,headers:e.headers,defaultFileList:e.defaultFileList},on:{preview:e.handlePreview,change:e.handleChange}},[!e.value||e.value&&e.value.length<e.length?a("a-button",[a("a-icon",{attrs:{type:"upload"}}),e._v("\n            点击上传\n        ")],1):e._e()],1):a("div",[e._v("\n        数据加载中。。\n    ")])],1)},n=[],o=(a("7f7f"),a("c5f6"),{props:{value:{required:!1,type:[Array],default:function(){return[]}},length:{required:!1,type:Number,default:function(){return 1}}},model:{prop:"value",event:"change"},data:function(){return{ready:!1,headers:{authorization:"authorization-text"}}},computed:{defaultFileList:function(){return this.value?this.value:[]}},methods:{handleChange:function(e){if(e.file.status,"done"===e.file.status&&1===e.file.response.success)this.$message.success("".concat(e.file.name," file uploaded successfully"));else if("error"===e.file.status)return void this.$message.error("".concat(e.file.name," file upload failed."));this.updateList(e.fileList)},handlePreview:function(e){var t=e.url?this.$store.state.common.fileBaseUrl+e.url:null;t=t||e.thumbUrl},updateList:function(e){for(var t=e,a=[],r=0;r<t.length;r++)t[r].hasOwnProperty("response")&&t[r].response&&(t[r].url=t[r].response.data),a.push(t[r]),a[r].originFileObj=null,a[r].lastModifiedDate=null;this.$emit("change",a)}},mounted:function(){var e=this;setTimeout(function(){e.ready=!0},3e3)}}),i=o,l=a("2877"),s=Object(l["a"])(i,r,n,!1,null,null,null);s.options.__file="UploadFiles.vue";t["a"]=s.exports},7304:function(e,t,a){"use strict";var r=a("4561"),n=a.n(r);n.a},"770e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("TopButtons"),a("div",{staticStyle:{height:"10px"}}),a("a-card",{staticStyle:{padding:"20px 60px 0 0"}},[a("FormComponent",{attrs:{id:e.thisId}})],1)],1)},n=[],o=(a("c5f6"),a("9fcd")),i=a("115b"),l={components:{TopButtons:o["a"],FormComponent:i["a"]},props:{id:{required:!0,type:[Number,String]}},computed:{thisId:function(){return parseInt(this.id)}},data:function(){return{}}},s=l,u=a("2877"),c=Object(u["a"])(s,r,n,!1,null,null,null);c.options.__file="Index.vue";t["default"]=c.exports},"7f7f":function(e,t,a){var r=a("86cc").f,n=Function.prototype,o=/^\s*function ([^ (]*)/,i="name";i in n||a("9e1e")&&r(n,i,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},9068:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("upload-images",{attrs:{length:1,msg:e.msg},model:{value:e.list,callback:function(t){e.list=t},expression:"list"}})],1)},n=[],o=(a("cadf"),a("551c"),a("097d"),a("a386")),i=a("90de"),l={components:{uploadImages:o["a"]},props:{value:{required:!1,type:[String],default:function(){return""}},msg:{required:!1,type:String,default:function(){return"点击上传"}}},model:{prop:"value",event:"change"},data:function(){return{list:[]}},watch:{value:function(e){e&&(this.list=[{uid:-1,name:Object(i["e"])(e),url:e}])},list:function(e){var t=e.length?e[0].url:"";this.$emit("change",t)}}},s=l,u=a("2877"),c=Object(u["a"])(s,r,n,!1,null,null,null);c.options.__file="UploadThumbnail.vue";t["a"]=c.exports},a386:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"clearfix"},[a("a-upload",{attrs:{action:this.$store.state.common.uploadUrl,listType:"picture-card",fileList:e.fileList},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<e.length?a("div",[a("a-icon",{attrs:{type:"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v(e._s(e.msg))])],1):e._e()]),a("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[a("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)},n=[],o=(a("c5f6"),a("90de")),i={props:{value:{required:!1,type:[Array],default:function(){return[]}},length:{type:Number,default:1},msg:{required:!1,type:String,default:function(){return"点击上传"}}},model:{prop:"value",event:"change"},data:function(){return{previewVisible:!1,previewImage:"",fileList:[]}},methods:{handleCancel:function(){this.previewVisible=!1},handlePreview:function(e){var t=e.url?this.$store.state.common.fileBaseUrl+e.url:null;t=t||e.thumbUrl,this.previewImage=t,this.previewVisible=!0},handleChange:function(e){var t=e.fileList;this.fileList=t;for(var a=[],r=0;r<this.fileList.length;r++)this.fileList[r].hasOwnProperty("response")&&this.fileList[r].response&&(this.fileList[r].url=this.fileList[r].response.data),a.push(this.fileList[r]),a[r].thumbUrl=Object(o["f"])(a[r].url),a[r].originFileObj=null,a[r].lastModifiedDate=null;this.$emit("change",a)}},watch:{value:function(e){if(!e||!e.hasOwnProperty("length"))return!1;for(var t=0;t<e.length;t++)!e[t].hasOwnProperty("thumbUrl")&&e[t].url&&(e[t].thumbUrl=this.$store.state.common.fileBaseUrl+e[t].url);this.fileList=e}}},l=i,s=(a("7304"),a("2877")),u=Object(s["a"])(l,r,n,!1,null,null,null);u.options.__file="UploadImages.vue";t["a"]=u.exports}}]);
//# sourceMappingURL=chunk-5d3e.ed656864.js.map