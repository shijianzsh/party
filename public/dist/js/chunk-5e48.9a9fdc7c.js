(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e48"],{"08c5":function(t,e,n){"use strict";n.d(e,"d",function(){return s}),n.d(e,"e",function(){return i}),n.d(e,"c",function(){return c}),n.d(e,"a",function(){return u}),n.d(e,"f",function(){return d}),n.d(e,"b",function(){return l});n("6b54"),n("7f7f"),n("f751");var a=n("66df"),o=n("c0d6"),r=(n("c405"),"exam_categories/"),s=function(t){var e=t.current_page,n=void 0===e?0:e,s=t.filter,i=void 0===s?{}:s,c={current_page:n,filter:i};return c=Object.assign(c,{token:o["a"].state.common.token,access_token:o["a"].state.common.access_token}),a["a"].request({url:r,method:"get",params:c})},i=function(){return s({current_page:0,filter:{}}).then(function(t){for(var e=[],n=0;n<t.data.rows.length;n++)e.push({id:t.data.rows[n].id,label:t.data.rows[n].name+" - 题目 "+t.data.rows[n].questions_count+" 题",value:t.data.rows[n].id.toString()});return e})},c=function(t){var e={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:r+t,method:"get",params:e})},u=function(t){var e={data:t},n={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:r,method:"post",data:e,params:n})},d=function(t,e){var n={data:e},s={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:r+t,method:"put",data:n,params:s})},l=function(t){var e={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:r+t,method:"delete",params:e})}},"0bfb":function(t,e,n){"use strict";var a=n("cb7c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"6b54":function(t,e,n){"use strict";n("3846");var a=n("cb7c"),o=n("0bfb"),r=n("9e1e"),s="toString",i=/./[s],c=function(t){n("2aba")(RegExp.prototype,s,t,!0)};n("79e5")(function(){return"/a/b"!=i.call({source:"a",flags:"b"})})?c(function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?o.call(t):void 0)}):i.name!=s&&c(function(){return i.call(this)})},"81da":function(t,e,n){},a1a3:function(t,e,n){"use strict";var a=n("81da"),o=n.n(a);o.a},c405:function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"f",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"c",function(){return d}),n.d(e,"a",function(){return l}),n.d(e,"g",function(){return m}),n.d(e,"b",function(){return f});n("6b54"),n("7f7f"),n("f751");var a=n("66df"),o=n("c0d6"),r="categories/",s=function(t){var e=t.current_page,n=void 0===e?0:e,s=t.filter,i=void 0===s?{}:s,c={current_page:n,filter:i};return c=Object.assign(c,{token:o["a"].state.common.token,access_token:o["a"].state.common.access_token}),a["a"].request({url:r,method:"get",params:c})},i=function(t){var e={};return e=Object.assign(e,{token:o["a"].state.common.token,access_token:o["a"].state.common.access_token}),a["a"].request({url:r+t+"/children_and_published_article",method:"get",params:e})},c=function(){return s({current_page:0,filter:{}}).then(function(t){for(var e={},n=0;n<t.data.rows.length;n++)e[t.data.rows[n].id]=t.data.rows[n];var a=10;while(a>0){for(var o in e)0!==e[o].parent_id&&e[o].level===a&&(e[e[o].parent_id].hasOwnProperty("children")||(e[e[o].parent_id].children=[]),e[e[o].parent_id].children.push(e[o]),delete e[o]);a--}var r=[];for(var s in e)r.push(e[s]);return r})},u=function(){return s({current_page:0,filter:{}}).then(function(t){for(var e={},n=0;n<t.data.rows.length;n++)e[t.data.rows[n].id]={id:t.data.rows[n].id,parent_id:t.data.rows[n].parent_id,label:t.data.rows[n].name+" - 文章 "+t.data.rows[n].posts_count+" 篇",level:t.data.rows[n].level,value:t.data.rows[n].id.toString()};var a=10;while(a>0){for(var o in e)0!==e[o].parent_id&&e[o].level===a&&(e[e[o].parent_id].hasOwnProperty("children")||(e[e[o].parent_id].children=[]),e[e[o].parent_id].children.push(e[o]),delete e[o]);a--}var r=[];for(var s in e)r.push(e[s]);return r})},d=function(t){var e={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:r+t,method:"get",params:e})},l=function(t){var e={data:t},n={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:r,method:"post",data:e,params:n})},m=function(t,e){var n={data:e},s={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:r+t,method:"put",data:n,params:s})},f=function(t){var e={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:r+t,method:"delete",params:e})}},d0cd:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table-component",{ref:"table",attrs:{columns:t.columns,request:t.tableRequest},on:{handleOperate:t.handleOperate}},[n("template",{slot:"top"},[n("a-button",{attrs:{type:"primary"},on:{click:function(e){t.handleCreate()}}},[t._v("新增\n            ")]),n("div",{staticStyle:{height:"10px"}})],1)],2),n("a-modal",{attrs:{width:"35%",title:t.modalTitle,footer:null,destroyOnClose:!0},model:{value:t.modalVisible,callback:function(e){t.modalVisible=e},expression:"modalVisible"}},[n("form-component",{attrs:{id:t.formId}})],1)],1)},o=[],r=n("08c5"),s=n("e8c4"),i=function(){var t=this,e=this,n=e.$createElement,a=e._self._c||n;return a("a-form",{attrs:{autoFormCreate:function(e){t.form=e}},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"名称",labelCol:{span:4},wrapperCol:{span:19},fieldDecoratorId:"name"}},[a("a-input")],1),a("a-form-item",{attrs:{wrapperCol:{span:12,offset:5}}},[a("a-button",{attrs:{type:"primary",htmlType:"submit"}},[e._v("\n            提交\n        ")])],1)],1)},c=[],u=(n("7f7f"),n("c5f6"),{props:{id:{type:Number,default:0}},data:function(){return{form:{}}},computed:{},methods:{init:function(){var t=this;this.id&&Object(r["c"])(this.id).then(function(e){t.form.setFieldsValue({name:e.data.name})})},beforeSubmit:function(){return!0},handleSubmit:function(t){var e,n=this;t.preventDefault();var a=this.form.getFieldsValue();e=this.id?Object(r["f"])(this.id,a):Object(r["a"])(a),e.then(function(){var t=n.id?"更新成功":"新增成功";n.$message.success(t)})}},mounted:function(){this.init()}}),d=u,l=n("2877"),m=Object(l["a"])(d,i,c,!1,null,null,null);m.options.__file="Form.vue";var f=m.exports,p={components:{tableComponent:s["a"],FormComponent:f},data:function(){return{modalTitle:null,modalVisible:!1,formId:0,columns:[{title:"#",dataIndex:"index",scopedSlots:{customRender:"index"}},{title:"分类名称",dataIndex:"name",key:"name"},{title:"题目数量",dataIndex:"questions_count",key:"questions_count"},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"},buttons:{edit:{visible:!0,disable:!1},delete:{visible:!0,disable:!1}}}],tableRequest:r["d"]}},methods:{handleSearch:function(t){this.$refs.table.handleSearch(t)},handleCreate:function(){this.modalTitle="新增分类",this.modalVisible=!0,this.formId=null},handleEdit:function(t){this.modalTitle="编辑分类",this.modalVisible=!0,this.formId=t},handleOperate:function(t,e){var n=this;switch(t){case"create":this.handleCreate();break;case"edit":this.handleEdit(e.id);break;case"delete":Object(r["b"])(e.id).then(function(t){n.$message.success("删除成功"),n.$refs.table.reFetch()});break}}}},h=p,b=(n("a1a3"),Object(l["a"])(h,a,o,!1,null,"6012c286",null));b.options.__file="Index.vue";e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-5e48.9a9fdc7c.js.map