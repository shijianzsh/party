(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6684"],{"0bfb":function(t,e,n){"use strict";var a=n("cb7c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2423:function(t,e,n){"use strict";n.d(e,"f",function(){return r}),n.d(e,"h",function(){return c}),n.d(e,"g",function(){return i}),n.d(e,"i",function(){return u}),n.d(e,"e",function(){return m}),n.d(e,"b",function(){return d}),n.d(e,"c",function(){return l}),n.d(e,"j",function(){return f}),n.d(e,"d",function(){return _}),n.d(e,"a",function(){return p});n("f751");var a=n("66df"),o=n("c0d6"),s="articles/",r=function(t){var e=t.current_page,n=void 0===e?0:e,r=t.filter,c=void 0===r?{}:r,i={current_page:n,filter:c};return i=Object.assign(i,{token:o["a"].state.common.token,access_token:o["a"].state.common.access_token}),a["a"].request({url:s,params:i,method:"get"})},c=function(t){var e=t.current_page,n=void 0===e?0:e,r=t.filter,c=void 0===r?{}:r,i={current_page:n,filter:c};return i=Object.assign(i,{token:o["a"].state.common.token,access_token:o["a"].state.common.access_token}),a["a"].request({url:s+"published",params:i,method:"get"})},i=function(t){var e=t.current_page,n=void 0===e?0:e,r=t.filter,c=void 0===r?{}:r,i={current_page:n,filter:Object.assign(c,{audit_user_id:o["a"].state.common.user_id})};return i=Object.assign(i,{token:o["a"].state.common.token,access_token:o["a"].state.common.access_token}),a["a"].request({url:s+"audit_user",params:i,method:"get"})},u=function(t){var e=t.current_page,n=void 0===e?0:e,r=t.filter,c=void 0===r?{}:r,i={current_page:n,filter:Object.assign(c,{user_id:o["a"].state.common.user_id})};return i=Object.assign(i,{token:o["a"].state.common.token,access_token:o["a"].state.common.access_token}),a["a"].request({url:s+"user",params:i,method:"get"})},m=function(t){var e={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+t,method:"get",params:e})},d=function(t){var e={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+t+"/check",method:"get",params:e})},l=function(t){var e={data:t},n={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s,method:"post",data:e,params:n})},f=function(t,e){var n={data:e},r={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+t,method:"put",data:n,params:r})},_=function(t){var e={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+t,method:"delete",params:e})},p=function(t,e){var n={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+t+"/audit",method:"post",data:e,params:n})}},"2f21":function(t,e,n){"use strict";var a=n("79e5");t.exports=function(t,e){return!!t&&a(function(){e?t.call(null,function(){},1):t.call(null)})}},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"4a0c":function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"e",function(){return c}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return u}),n.d(e,"f",function(){return m}),n.d(e,"b",function(){return d});n("f751");var a=n("66df"),o=n("c0d6"),s="exam_papers/",r=function(t){var e=t.current_page,n=void 0===e?0:e,r=t.filter,c=void 0===r?{}:r,i={current_page:n,filter:c};return i=Object.assign(i,{token:o["a"].state.common.token,access_token:o["a"].state.common.access_token}),a["a"].request({url:s,method:"get",params:i})},c=function(t){var e=t.current_page,n=void 0===e?0:e,a=t.filter,s=void 0===a?{}:a,c={current_page:n,filter:Object.assign(s,{attend_user_id:o["a"].state.common.user_id})};return r(c)},i=function(t){var e={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+t,method:"get",params:e})},u=function(t){var e={data:t},n={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s,method:"post",data:e,params:n})},m=function(t,e){var n={data:e},r={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+t,method:"put",data:n,params:r})},d=function(t){var e={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+t,method:"delete",params:e})}},"51a6":function(t,e,n){"use strict";var a=n("dc42"),o=n.n(a);o.a},"55dd":function(t,e,n){"use strict";var a=n("5ca1"),o=n("d8e8"),s=n("4bf8"),r=n("79e5"),c=[].sort,i=[1,2,3];a(a.P+a.F*(r(function(){i.sort(void 0)})||!r(function(){i.sort(null)})||!n("2f21")(c)),"Array",{sort:function(t){return void 0===t?c.call(s(this)):c.call(s(this),o(t))}})},6854:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("TopButtons",[n("div",{attrs:{slot:"suffix"},slot:"suffix"},[n("CountDown",{ref:"countDown",attrs:{timestamp:t.countDownTimestamp}})],1)]),n("div",{staticStyle:{height:"10px"}}),n("a-spin",{attrs:{spinning:t.spinning}},[n("a-card",[n("div",{staticClass:"xwsh_nr"},[n("div",{staticClass:"pad-30"},[n("h1",[t._v(t._s(t.paper.name))]),n("h2",[t._v("考试时间："+t._s(t.paper.duration)+"分钟　　考试截止时间："+t._s(t.paper.finished_at_format))]),n("Questions",{model:{value:t.questions,callback:function(e){t.questions=e},expression:"questions"}}),n("div",[n("button",{staticClass:"btn btn-style02",staticStyle:{width:"200px"},on:{click:t.submit}},[t._v(" 提 交")])])],1)])])],1),n("ResultModal",{attrs:{data:t.modalData},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}})],1)},o=[];function s(t){if(Array.isArray(t))return t}function r(t,e){var n=[],a=!0,o=!1,s=void 0;try{for(var r,c=t[Symbol.iterator]();!(a=(r=c.next()).done);a=!0)if(n.push(r.value),e&&n.length===e)break}catch(t){o=!0,s=t}finally{try{a||null==c["return"]||c["return"]()}finally{if(o)throw s}}return n}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(t,e){return s(t)||r(t,e)||c()}n("ac6a"),n("c5f6"),n("cadf"),n("551c"),n("097d");var u=n("1eb1"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-button",{attrs:{type:"primary"}},[[t._v("\n        倒计时："+t._s(t.show)+"\n    ")]],2)},d=[],l=n("90de"),f={name:"CountDown",props:{timestamp:{required:!0,time:Number}},data:function(){return{timeIntervalId:null,show:null,isStopped:!1}},methods:{init:function(){var t=this,e=moment().valueOf()/1e3,n=this.timestamp>e?this.timestamp-e:0;!n&&this.timeIntervalId?clearInterval(this.timeIntervalId):n&&null===this.timeIntervalId&&(this.timeIntervalId=setInterval(function(){t.init()},1e3)),this.show=Object(l["c"])(n)},stop:function(){clearInterval(this.timeIntervalId)}},mounted:function(){this.init()},beforeDestroy:function(){clearInterval(this.timeIntervalId)},watch:{timestamp:function(){this.init()}}},_=f,p=(n("51a6"),n("2877")),v=Object(p["a"])(_,m,d,!1,null,"15f8785d",null);v.options.__file="CountDown.vue";var h=v.exports,k=n("52dc"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{width:"30%",footer:null,destroyOnClose:!0,closable:!1},on:{afterClose:t.handleClose,cancel:t.handleClose},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:n("8196"),width:"300",height:"95",alt:""}})]),a("table",{attrs:{width:"100%",border:"0",cellspacing:"0",cellpadding:"0"}},[a("tbody",[a("tr",[a("td",{staticStyle:{"font-size":"14px",color:"#666666"},attrs:{height:"40"}},[t._v("您本次考试的成绩为：")])]),a("tr",[a("td",{staticStyle:{color:"#FF0004","text-align":"center"},attrs:{height:"100"}},[a("strong",{staticStyle:{"font-size":"50px"}},[t._v(t._s(t.data.score))]),t._v("\n                分\n            ")])]),a("tr",[a("td",{staticStyle:{"font-size":"14px",color:"#666666","text-align":"center"}},[t._v(t._s(t.data.msg)+"\n            ")])])])])])},b=[],w=(n("6af2"),{props:{visible:{required:!0,type:Boolean},data:{required:!0,type:Object}},model:{prop:"visible",event:"change"},data:function(){return{spinning:!0,title:"数据加载中。。",confirmLoading:!1}},methods:{handleClose:function(){this.$emit("change",!1)}}}),q=w,x=(n("c2f6"),Object(p["a"])(q,g,b,!1,null,"156602de",null));x.options.__file="ResultModal.vue";var y=x.exports,O=n("4a0c"),j=n("9c21"),I=n("d17f"),C={components:{TopButtons:u["a"],CountDown:h,CheckArticle:k["a"],ResultModal:y,Questions:I["a"]},props:{id:{required:!0,type:[String,Number]}},data:function(){return{spinning:!0,result_id:0,paper:{},questions:[],countDownTimestamp:0,modalData:{},visible:!1}},computed:{thisId:function(){return parseInt(this.id)}},methods:{init:function(){var t=this;this.spinning=!0,Object(j["c"])(this.thisId).then(function(e){return!e.data||(!e.data.is_submitted||(t.$router.push({name:"在线考试查看",params:{id:e.data.id}}),!1))}).then(function(e){if(!e)throw!0;return Promise.all([Object(j["e"])(t.thisId),Object(O["c"])(t.thisId)])}).then(function(e){var n=i(e,2),a=n[0],o=n[1];t.countDownTimestamp=a.data.submitted_at,t.result_id=a.data.id,t.paper=o.data,t.questions=o.data.questions,t.spinning=!1}).catch(function(t){console.log("catch",t),!0!==t&&history.go(-1)})},submit:function(){var t=this;if(!this.result_id)return!1;Object(j["f"])(this.result_id,this.questions,!1).then(function(e){var n=e.data.is_passed,a=e.data.score,o=e.msg;t.modalData={isPassed:n,score:a,msg:o},t.visible=!0,t.$refs.countDown.stop()})}},beforeRouteLeave:function(t,e,n){n()},created:function(){this.init()}},S=C,D=Object(p["a"])(S,a,o,!1,null,null,null);D.options.__file="Index.vue";e["default"]=D.exports},"6af2":function(t,e,n){"use strict";n.d(e,"i",function(){return c}),n.d(e,"g",function(){return i}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return m}),n.d(e,"h",function(){return d}),n.d(e,"c",function(){return l}),n.d(e,"j",function(){return f}),n.d(e,"d",function(){return _}),n.d(e,"b",function(){return p}),n.d(e,"a",function(){return v});n("f751");var a=n("66df"),o=n("c0d6"),s="meetings/",r=function(t){var e=t.current_page,n=void 0===e?0:e,r=t.filter,c=void 0===r?{}:r,i=t.with,u={current_page:n,filter:c,with:i};return u=Object.assign(u,{token:o["a"].state.common.token,access_token:o["a"].state.common.access_token}),a["a"].request({url:s,method:"get",params:u})},c=function(t){var e=t.current_page,n=void 0===e?0:e,a=t.filter,s=void 0===a?{}:a,c=t.with,i={current_page:n,filter:Object.assign(s,{initiate_user_id:o["a"].state.common.user_id}),with:c};return r(i)},i=function(t){var e=t.current_page,n=void 0===e?0:e,r=t.filter,c=void 0===r?{}:r,i=t.with,u={current_page:n,filter:Object.assign(c,{department_id:o["a"].state.common.department_id}),with:["parent"].concat(i||[])};return u=Object.assign(u,{token:o["a"].state.common.token,access_token:o["a"].state.common.access_token}),a["a"].request({url:s+"department",method:"get",params:u})},u=function(t){var e=t.current_page,n=void 0===e?0:e,r=t.filter,c=void 0===r?{}:r,i=t.with,u={current_page:n,filter:Object.assign(c,{attend_user_id:o["a"].state.common.user_id}),with:["parent"].concat(i||[])};return u=Object.assign(u,{token:o["a"].state.common.token,access_token:o["a"].state.common.access_token}),a["a"].request({url:s+"attend_user",method:"get",params:u})},m=function(t){var e=t.current_page,n=void 0===e?0:e,r=t.filter,c=void 0===r?{}:r,i=t.with,u={current_page:n,filter:Object.assign(c,{audit_user_id:o["a"].state.common.user_id}),with:["parent"].concat(i||[])};return u=Object.assign(u,{token:o["a"].state.common.token,access_token:o["a"].state.common.access_token}),a["a"].request({url:s+"audit_user",method:"get",params:u})},d=function(t){var e={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+t,method:"get",params:e})},l=function(t){var e={data:t},n={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s,method:"post",data:e,params:n})},f=function(t,e){var n={data:e},r={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+t,method:"put",data:n,params:r})},_=function(t){var e={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+t,method:"delete",params:e})},p=function(t,e){var n={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+t+"/audit",method:"post",data:e,params:n})},v=function(t,e){var n={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+t+"/arrange_and_send_push",method:"post",data:e,params:n})}},"6b54":function(t,e,n){"use strict";n("3846");var a=n("cb7c"),o=n("0bfb"),s=n("9e1e"),r="toString",c=/./[r],i=function(t){n("2aba")(RegExp.prototype,r,t,!0)};n("79e5")(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?i(function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?o.call(t):void 0)}):c.name!=r&&i(function(){return c.call(this)})},8196:function(t,e,n){t.exports=n.p+"img/kscjd_pic.758c6bee.png"},"9c21":function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"d",function(){return c}),n.d(e,"a",function(){return i}),n.d(e,"c",function(){return u}),n.d(e,"e",function(){return m}),n.d(e,"f",function(){return d});n("f751");var a=n("66df"),o=n("c0d6"),s="exam_results/",r=function(t){var e=t.current_page,n=void 0===e?0:e,r=t.filter,c=void 0===r?{}:r,i={current_page:n,filter:c};return i=Object.assign(i,{token:o["a"].state.common.token,access_token:o["a"].state.common.access_token}),a["a"].request({url:s,method:"get",params:i})},c=function(t){var e=t.current_page,n=void 0===e?0:e,r=t.filter,c=void 0===r?{}:r,i={current_page:n,filter:c};return i=Object.assign(i,{token:o["a"].state.common.token,access_token:o["a"].state.common.access_token}),a["a"].request({url:s+o["a"].state.common.user_id+"/user_submitted",method:"get",params:i})},i=function(t){var e={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+t,method:"get",params:e})},u=function(t){var e={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+o["a"].state.common.user_id+"/"+t+"/get_user_exam_result_by_paper_id",method:"get",params:e})},m=function(t){var e={user_id:o["a"].state.common.user_id},n={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+t+"/start",method:"post",data:e,params:n})},d=function(t,e,n){var r={data:{answers:e,is_auto_submit:n}},c={token:o["a"].state.common.token,access_token:o["a"].state.common.access_token};return a["a"].request({url:s+t+"/submit",method:"post",data:r,params:c})}},c2f6:function(t,e,n){"use strict";var a=n("d559"),o=n.n(a);o.a},d17f:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.questions,function(e,a){return n("div",[n("p",[t._v("\n            "+t._s(a+1)+"."+t._s(e.title)+"\n            "),e.user_answers_format?[e.hasOwnProperty("is_correct")?[e.is_correct?[t._v("\n                        回答正确！正确答案："+t._s(t.getAnswer(e))+"\n                    ")]:[t._v("\n                        回答错误。正确答案："+t._s(t.getAnswer(e))+"\n                    ")]]:[t._v("\n                    ( "),n("b",{staticStyle:{color:"#DA3639"}},[t._v(t._s(e.user_answers_format))]),t._v(" )\n                ")]]:t._e()],2),e.answers.length<=1?n("a-radio-group",{attrs:{value:t.getValue("radio",e)},on:{change:function(e){t.setAnswers(e,a,"radio")}}},t._l(e.options,function(e,a){return n("a-radio",{key:a,attrs:{value:a}},[t._v("\n                "+t._s(a+". "+e)+"\n            ")])})):n("a-checkbox-group",{attrs:{value:t.getValue("checkbox",e)},on:{change:function(e){t.setAnswers(e,a,"checkbox")}}},t._l(e.options,function(e,a){return n("a-checkbox",{key:a,attrs:{value:a}},[t._v("\n                "+t._s(a+". "+e)+"\n            ")])})),n("div",{staticClass:"line_xx"})],1)}))},o=[],s=(n("6b54"),n("55dd"),{props:{questions:{type:Array}},model:{prop:"questions",event:"change"},computed:{},methods:{setAnswers:function(t,e,n){var a=JSON.parse(JSON.stringify(this.questions));switch(n){case"radio":this.$set(a[e],"user_answers",[t.target.value]),this.$set(a[e],"user_answers_format",t.target.value);break;case"checkbox":var o=t;o.sort(),this.$set(a[e],"user_answers",o),this.$set(a[e],"user_answers_format",o.join(","));break}this.$emit("change",a)},getAnswer:function(t){return t.answers.toString()},getValue:function(t,e){var n=e.user_answers,a=null;switch(t){case"radio":n&&n.length&&(a=n[0]);break;case"checkbox":a=n;break}return console.log(a),a}}}),r=s,c=n("2877"),i=Object(c["a"])(r,a,o,!1,null,null,null);i.options.__file="Index.vue";var u=i.exports;e["a"]=u},d559:function(t,e,n){},dc42:function(t,e,n){}}]);
//# sourceMappingURL=chunk-6684.90db5a93.js.map