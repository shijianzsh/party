(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7487"],{"1eaa":function(t,e,r){"use strict";var a=r("c93f"),n=r.n(a);n.a},"1efd":function(t,e,r){},"52dc":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-card",[r(t.articleTemplate,{tag:"components",attrs:{article:t.data}},[t._t("suffix",null,{slot:"suffix"})],2)],1)},n=[],i=(r("c5f6"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"columns"},[r("div",{staticClass:"xwsh_nr"},[r("div",{staticStyle:{padding:"30px 5px 30px 5px"}},[r("h1",[t._v(t._s(t.article.post_title))]),r("h2",[t._v("\n                发布日期："+t._s(t.article.published_at_format)+"\n                "),r("a-divider",{attrs:{type:"vertical"}}),t.article.post_source?[t._v("\n                    来源："+t._s(t.article.post_source)+"\n                    "),r("a-divider",{attrs:{type:"vertical"}})]:t._e(),t._v("\n                点击量："+t._s(t.article.post_hits)+"\n            ")],2),r("a-divider"),t.photos.length?r("Album",{attrs:{list:t.photos}}):t._e(),r("a-row",{attrs:{type:"flex",justify:"center"}},[r("a-col",{attrs:{span:22}},[r("div",{domProps:{innerHTML:t._s(t.article.post_content)}})])],1),t.files.length?r("a-row",{attrs:{type:"flex",justify:"center"}},[r("a-col",{attrs:{span:22}},[t.files.length?r("downloadFiles",{attrs:{list:t.files}}):t._e()],1)],1):t._e(),t.video?r("a-row",{attrs:{type:"flex",justify:"center"}},[r("a-col",{attrs:{span:22}},[r("center",[r("chplayer",{attrs:{url:t.video}})],1)],1)],1):t._e()],1)]),t._t("suffix")],2)}),s=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-carousel",{staticStyle:{"padding-bottom":"50px"},attrs:{arrows:"",dotsClass:"slick-dots slick-thumb"},scopedSlots:t._u([{key:"customPaging",fn:function(e){return r("a",{},[r("img",{attrs:{src:t.getImgUrl(e.i)}})])}}])},t._l(t.list_computed,function(t){return r("div",[r("img",{attrs:{src:t.url}})])}))},l=[],c={props:{list:{required:!0,type:Array}},data:function(){return{baseUrl:this.$store.state.common.fileBaseUrl}},computed:{list_computed:function(){for(var t=this.list,e=0;e<t.length;e++)t[e].url=this.baseUrl+t[e].url;return t}},methods:{getImgUrl:function(t){return this.list_computed[t].url}},mounted:function(){}},u=c,d=(r("f53e"),r("2877")),p=Object(d["a"])(u,o,l,!1,null,"3702954a",null);p.options.__file="Album.vue";var m=p.exports,f=r("baa5"),h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{style:t.getStyle,attrs:{id:"video"}},[t._v("\n    加载中\n")])},_=[],v=(r("cadf"),r("551c"),r("097d"),r("90de")),y={name:"Index",props:{url:{required:!0,type:String},thumbnail:{required:!1,type:String,default:function(){return""}},max:{required:!1,type:Boolean,default:function(){return!1}}},computed:{getStyle:function(){return this.max?{}:{width:"600px",height:"400px"}}},mounted:function(){if(""===this.url)return this.$message.error("获取视频地址失败"),!1;var t={logo:"党建视频",container:"#video",variable:"player",video:Object(v["f"])(this.url),autoplay:!1};""!==this.thumbnail&&(t.poster=this.thumbnail);new chplayer(t)}},b=y,x=(r("1eaa"),Object(d["a"])(b,h,_,!1,null,"fa77562c",null));x.options.__file="Index.vue";var g=x.exports,w={components:{Album:m,downloadFiles:f["a"],chplayer:g},props:{article:{type:Object}},computed:{photos:function(){return this.article.hasOwnProperty("more")&&this.article.more.hasOwnProperty("photos")&&Array.isArray(this.article.more.photos)?this.article.more.photos:[]},files:function(){return this.article.hasOwnProperty("more")&&this.article.more.hasOwnProperty("files")&&Array.isArray(this.article.more.files)?this.article.more.files:[]},videos:function(){return this.article.hasOwnProperty("more")&&this.article.more.hasOwnProperty("videos")&&Array.isArray(this.article.more.videos)?this.article.more.videos:[]},video:function(){return this.article.video_format}},data:function(){return{}},mounted:function(){}},O=w,k=Object(d["a"])(O,i,s,!1,null,null,null);k.options.__file="Article.vue";var j=k.exports,A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"columns"},[r("div",{staticClass:"xwsh_nr"},[r("div",{staticClass:"pad-30"},[t.video?r("a-row",{attrs:{type:"flex",justify:"center"}},[r("a-col",{staticStyle:{padding:"10px"},attrs:{span:16}},[r("chplayer",{attrs:{url:t.video,max:!0}})],1),r("a-col",{staticStyle:{padding:"10px"},attrs:{span:8}},[r("comment",{attrs:{id:t.article.id}})],1)],1):t._e()],1)]),t._t("suffix")],2)},S=[],q=function(){var t=this,e=this,r=e.$createElement,a=e._self._c||r;return a("div",[a("a-form",{attrs:{autoFormCreate:function(e){t.form=e}},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{fieldDecoratorId:"comment_content"}},[a("a-textarea",{attrs:{placeholder:"请写下评论",autosize:{minRows:3,maxRows:6}}})],1),a("a-form-item",[a("a-button",{staticStyle:{float:"right"},attrs:{type:"primary",htmlType:"submit"}},[e._v("\n                发表评论\n            ")])],1)],1),a("table-component",{ref:"table",attrs:{template:"article_comment",columns:e.columns,request:e.tableRequest,requestInitFilter:{post_id:e.id}},on:{handleOperate:e.handleOperate}})],1)},C=[],I=(r("f751"),r("66df")),$=r("c0d6"),P="article_comments/",F=function(t){var e=t.current_page,r=void 0===e?0:e,a=t.filter,n=void 0===a?{}:a,i={current_page:r,filter:n};return i=Object.assign(i,{token:$["a"].state.common.token,access_token:$["a"].state.common.access_token}),I["a"].request({url:P,params:i,method:"get"})},U=function(t){var e={data:t},r={token:$["a"].state.common.token,access_token:$["a"].state.common.access_token};return I["a"].request({url:P,method:"post",data:e,params:r})},E=r("e8c4"),R={components:{tableComponent:E["a"]},props:{id:{required:!0,type:Number}},data:function(){return{formLayout:"horizontal",columns:[{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"},buttons:{check:{visible:!0,disable:!1}}}],tableRequest:F}},methods:{handleSubmit:function(t){var e=this;t.preventDefault(),console.log(this.form.getFieldsValue());var r=this.form.getFieldsValue();r.post_id=this.id,U(r).then(function(t){return e.form.setFieldsValue({comment_content:null}),e.$refs.table.reFetch()})},handleOperate:function(t,e){}}},T=R,B=Object(d["a"])(T,q,C,!1,null,null,null);B.options.__file="Index.vue";var V=B.exports,z=V,D={components:{chplayer:g,comment:z},props:{article:{type:Object}},computed:{videos:function(){return this.article.hasOwnProperty("more")&&this.article.more.hasOwnProperty("videos")&&Array.isArray(this.article.more.videos)?this.article.more.videos:[]},video:function(){return this.article.video_format}},data:function(){return{}},mounted:function(){}},J=D,L=Object(d["a"])(J,A,S,!1,null,null,null);L.options.__file="ArticleVideoComment.vue";var N=L.exports,H=r("2423"),M={name:"Index",components:{article_component:j,article_video_comment_component:N},props:{id:{required:!0,type:[Number,String]},checkAnyway:{required:!1,type:Boolean,default:function(){return!1}}},computed:{thisId:function(){return parseInt(this.id)}},data:function(){return{data:{},articleTemplate:""}},methods:{init:function(){var t=this,e=this.checkAnyway?Object(H["e"])(this.thisId):Object(H["b"])(this.thisId);e.then(function(e){var r=e.data.template?e.data.template:"article";t.articleTemplate=r+"_component",t.data=e.data})}},watch:{$route:{handler:function(){this.init()},immediate:!0}}},G=M,K=(r("e87c"),Object(d["a"])(G,a,n,!1,null,"6ac5a250",null));K.options.__file="Index.vue";e["a"]=K.exports},6172:function(t,e,r){"use strict";var a=r("c0b2"),n=r.n(a);n.a},a1aa:function(t,e,r){},baa5:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-card",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},t._l(t.list_computed,function(e,a){return r("div",{staticClass:"ant-upload-list ant-upload-list-text"},[r("div",{staticClass:"ant-upload-list-item ant-upload-list-item-done"},[r("div",{staticClass:"ant-upload-list-item-info"},[r("span",[r("i",{staticClass:"anticon anticon-paper-clip"}),r("a",{staticClass:"ant-upload-list-item-name",attrs:{href:e.url,target:"_blank",rel:"noopener noreferrer",download:e.name,title:e.name}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])])])])])}))},n=[],i={props:{list:{required:!0,type:Array}},data:function(){return{baseUrl:this.$store.state.common.fileBaseUrl}},computed:{list_computed:function(){for(var t=this.list,e=0;e<t.length;e++)t[e].url=this.baseUrl+t[e].url;return t}}},s=i,o=(r("6172"),r("2877")),l=Object(o["a"])(s,a,n,!1,null,"df920dfa",null);l.options.__file="Files.vue";e["a"]=l.exports},c0b2:function(t,e,r){},c93f:function(t,e,r){},e87c:function(t,e,r){"use strict";var a=r("1efd"),n=r.n(a);n.a},f53e:function(t,e,r){"use strict";var a=r("a1aa"),n=r.n(a);n.a}}]);
//# sourceMappingURL=chunk-7487.31c4be83.js.map