(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-824a"],{"0bfb":function(e,t,n){"use strict";var i=n("cb7c");e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0e8f":function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"d",function(){return l}),n.d(t,"g",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"h",function(){return d}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return h}),n.d(t,"i",function(){return m}),n.d(t,"b",function(){return p});n("6b54"),n("7f7f"),n("f751"),n("cadf"),n("551c"),n("097d");var i=n("66df"),a=n("c0d6"),r="departments/",o=function(e){var t=e.current_page,n=void 0===t?0:t,o=e.filter,s=void 0===o?{}:o,l=e.with,c={current_page:n,filter:s,with:["parent"].concat(l||[])};return c=Object.assign(c,{token:a["a"].state.common.token,access_token:a["a"].state.common.access_token}),i["a"].request({url:r,method:"get",params:c})},s=function(e){var t=e.filter,n=void 0===t?{}:t,o=e.with,s={filter:n,with:["parent"].concat(o||[])};return s=Object.assign(s,{token:a["a"].state.common.token,access_token:a["a"].state.common.access_token}),i["a"].request({url:r+"select_component",method:"get",params:s})},l=function(e){var t={};return t=Object.assign(t,{token:a["a"].state.common.token,access_token:a["a"].state.common.access_token}),i["a"].request({url:r+e+"/coordinate",method:"get",params:t})},c=function(){return o({current_page:0,filter:{}}).then(function(e){for(var t={},n=0;n<e.data.rows.length;n++)t[e.data.rows[n].id]=e.data.rows[n];var i=10;while(i>0){for(var a in t)0!==t[a].parent_id&&t[a].level===i&&(t[t[a].parent_id].hasOwnProperty("children")||(t[t[a].parent_id].children=[]),t[t[a].parent_id].children.push(t[a]),delete t[a]);i--}var r=[];for(var o in t)r.push(t[o]);return e.data.rows=r,e})},u=function(){return s({filter:{}}).then(function(e){for(var t=e.data,n={},i=0;i<t.length;i++)n[t[i].id]={id:t[i].id,parent_id:t[i].parent_id,label:t[i].name,level:t[i].level,value:t[i].id.toString()};var a=10;while(a>0){for(var r in n)0!==n[r].parent_id&&n[r].level===a&&(n[n[r].parent_id].hasOwnProperty("children")||(n[n[r].parent_id].children=[]),n[n[r].parent_id].children.push(n[r]),delete n[r]);a--}var o=[];for(var s in n)o.push(n[s]);return o})},d=function(){return s({filter:{},with:["Users"]}).then(function(e){for(var t=e.data,n={},i=0;i<t.length;i++){for(var a=0;a<t[i].users.length;a++)t[i].users[a].label=t[i].users[a].user_name,t[i].users[a].value=t[i].users[a].id;n[t[i].id]={id:t[i].id,parent_id:t[i].parent_id,label:t[i].name+" - 人员 "+t[i].users_count+" 人",level:t[i].level,children:t[i].users}}var r=[];for(var o in n)delete n[o]["id"],r.push(n[o]);return r})},f=function(e){var t={token:a["a"].state.common.token,access_token:a["a"].state.common.access_token};return i["a"].request({url:r+e,method:"get",params:t})},h=function(e){var t={data:e},n={token:a["a"].state.common.token,access_token:a["a"].state.common.access_token};return i["a"].request({url:r,method:"post",data:t,params:n})},m=function(e,t){var n={data:t},o={token:a["a"].state.common.token,access_token:a["a"].state.common.access_token};return i["a"].request({url:r+e,method:"put",data:n,params:o})},p=function(e){var t={token:a["a"].state.common.token,access_token:a["a"].state.common.access_token};return i["a"].request({url:r+e,method:"delete",params:t})}},3846:function(e,t,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},4561:function(e,t,n){},"67f5":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.ready?n("a-upload",{attrs:{name:"file",multiple:!0,action:this.$store.state.common.uploadUrl,headers:e.headers,defaultFileList:e.defaultFileList},on:{preview:e.handlePreview,change:e.handleChange}},[!e.value||e.value&&e.value.length<e.length?n("a-button",[n("a-icon",{attrs:{type:"upload"}}),e._v("\n            点击上传\n        ")],1):e._e()],1):n("div",[e._v("\n        数据加载中。。\n    ")])],1)},a=[],r=(n("7f7f"),n("c5f6"),{props:{value:{required:!1,type:[Array],default:function(){return[]}},length:{required:!1,type:Number,default:function(){return 1}}},model:{prop:"value",event:"change"},data:function(){return{ready:!1,headers:{authorization:"authorization-text"}}},computed:{defaultFileList:function(){return this.value?this.value:[]}},methods:{handleChange:function(e){if(e.file.status,"done"===e.file.status&&1===e.file.response.success)this.$message.success("".concat(e.file.name," file uploaded successfully"));else if("error"===e.file.status)return void this.$message.error("".concat(e.file.name," file upload failed."));this.updateList(e.fileList)},handlePreview:function(e){var t=e.url?this.$store.state.common.fileBaseUrl+e.url:null;t=t||e.thumbUrl},updateList:function(e){for(var t=e,n=[],i=0;i<t.length;i++)t[i].hasOwnProperty("response")&&t[i].response&&(t[i].url=t[i].response.data),n.push(t[i]),n[i].originFileObj=null,n[i].lastModifiedDate=null;this.$emit("change",n)}},mounted:function(){var e=this;setTimeout(function(){e.ready=!0},3e3)}}),o=r,s=n("2877"),l=Object(s["a"])(o,i,a,!1,null,null,null);l.options.__file="UploadFiles.vue";t["a"]=l.exports},"6b54":function(e,t,n){"use strict";n("3846");var i=n("cb7c"),a=n("0bfb"),r=n("9e1e"),o="toString",s=/./[o],l=function(e){n("2aba")(RegExp.prototype,o,e,!0)};n("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?l(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?a.call(e):void 0)}):s.name!=o&&l(function(){return s.call(this)})},7304:function(e,t,n){"use strict";var i=n("4561"),a=n.n(i);a.a},"7f1e":function(e,t,n){"use strict";var i=n("e6f6"),a=n.n(i);a.a},8013:function(e,t,n){},8256:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:e.fullscreen}},[n("textarea",{staticClass:"tinymce-textarea",attrs:{id:e.tinymceId}}),n("div",{staticClass:"editor-custom-btn-container"},[n("editorImage",{staticClass:"editor-upload-btn",on:{successCBK:e.imageSuccessCBK}})],1)])},a=[],r=(n("ac6a"),n("c5f6"),n("cadf"),n("551c"),n("097d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("\n        上传图片\n    ")]),n("a-modal",{attrs:{destroyOnClose:!0,okText:"确认上传",cancelText:"取消"},on:{ok:e.handleSubmit},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[n("UploadImages",{model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}})],1)],1)}),o=[],s=n("a386"),l={name:"EditorSlideUpload",components:{UploadImages:s["a"]},data:function(){return{dialogVisible:!1,fileList:[]}},methods:{handleSubmit:function(){this.$emit("successCBK",this.fileList),this.dialogVisible=!1}}},c=l,u=n("2877"),d=Object(u["a"])(c,r,o,!1,null,null,null);d.options.__file="editorImage.vue";var f=d.exports,h=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],m=h,p=["bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],g=p,v=n("90de"),b={name:"Tinymce",components:{editorImage:f},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},model:{prop:"value",event:"change"},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return"zh"}},watch:{value:function(e){var t=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){window.tinymce.get(t.tinymceId).setContent(e||"")})},language:function(){var e=this;this.destroyTinymce(),this.$nextTick(function(){return e.initTinymce()})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){var e=this,t=this;window.tinymce.init({language:"zh_CN",selector:"#".concat(this.tinymceId),height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:g,menubar:this.menubar,plugins:m,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(n){t.value&&n.setContent(t.value),t.hasInit=!0,n.on("NodeChange Change KeyUp SetContent",function(){e.hasChange=!0,e.$emit("input",n.getContent()),e.$emit("change",n.getContent())})},setup:function(e){e.on("FullscreenStateChanged",function(e){t.fullscreen=e.state})}})},destroyTinymce:function(){window.tinymce.get(this.tinymceId)&&window.tinymce.get(this.tinymceId).destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){var t=this;e.forEach(function(e){window.tinymce.get(t.tinymceId).insertContent('<img class="wscnph" src="'.concat(Object(v["f"])(e.url),'" >'))})}}},_=b,y=(n("be1e"),n("7f1e"),Object(u["a"])(_,i,a,!1,null,"129ca5b9",null));y.options.__file="index.vue";t["a"]=y.exports},9068:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("upload-images",{attrs:{length:1,msg:e.msg},model:{value:e.list,callback:function(t){e.list=t},expression:"list"}})],1)},a=[],r=(n("cadf"),n("551c"),n("097d"),n("a386")),o=n("90de"),s={components:{uploadImages:r["a"]},props:{value:{required:!1,type:[String],default:function(){return""}},msg:{required:!1,type:String,default:function(){return"点击上传"}}},model:{prop:"value",event:"change"},data:function(){return{list:[]}},watch:{value:function(e){e&&(this.list=[{uid:-1,name:Object(o["e"])(e),url:e}])},list:function(e){var t=e.length?e[0].url:"";this.$emit("change",t)}}},l=s,c=n("2877"),u=Object(c["a"])(l,i,a,!1,null,null,null);u.options.__file="UploadThumbnail.vue";t["a"]=u.exports},a386:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"clearfix"},[n("a-upload",{attrs:{action:this.$store.state.common.uploadUrl,listType:"picture-card",fileList:e.fileList},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<e.length?n("div",[n("a-icon",{attrs:{type:"plus"}}),n("div",{staticClass:"ant-upload-text"},[e._v(e._s(e.msg))])],1):e._e()]),n("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[n("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)},a=[],r=(n("c5f6"),n("90de")),o={props:{value:{required:!1,type:[Array],default:function(){return[]}},length:{type:Number,default:1},msg:{required:!1,type:String,default:function(){return"点击上传"}}},model:{prop:"value",event:"change"},data:function(){return{previewVisible:!1,previewImage:"",fileList:[]}},methods:{handleCancel:function(){this.previewVisible=!1},handlePreview:function(e){var t=e.url?this.$store.state.common.fileBaseUrl+e.url:null;t=t||e.thumbUrl,this.previewImage=t,this.previewVisible=!0},handleChange:function(e){var t=e.fileList;this.fileList=t;for(var n=[],i=0;i<this.fileList.length;i++)this.fileList[i].hasOwnProperty("response")&&this.fileList[i].response&&(this.fileList[i].url=this.fileList[i].response.data),n.push(this.fileList[i]),n[i].thumbUrl=Object(r["f"])(n[i].url),n[i].originFileObj=null,n[i].lastModifiedDate=null;this.$emit("change",n)}},watch:{value:function(e){if(!e||!e.hasOwnProperty("length"))return!1;for(var t=0;t<e.length;t++)!e[t].hasOwnProperty("thumbUrl")&&e[t].url&&(e[t].thumbUrl=this.$store.state.common.fileBaseUrl+e[t].url);this.fileList=e}}},s=o,l=(n("7304"),n("2877")),c=Object(l["a"])(s,i,a,!1,null,null,null);c.options.__file="UploadImages.vue";t["a"]=c.exports},be1e:function(e,t,n){"use strict";var i=n("8013"),a=n.n(i);a.a},c281:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-tree-select",{style:e.styleValue,attrs:{treeData:e.treeData,value:e.getValue(e.value),searchPlaceholder:"请点击选择",treeNodeFilterProp:"label",disabled:e.disabled},on:{change:e.onChange}})},a=[],r=(n("24b4"),n("0e8f")),o={props:{value:{required:!1,default:function(){return""}},styleValue:{required:!1,default:function(){return{"min-width":"200px"}}},disabled:{required:!1,type:Boolean,default:function(){return!1}}},model:{prop:"value",event:"change"},data:function(){return{treeData:[]}},methods:{getValue:function(e){return[e]},init:function(){var e=this;Object(r["h"])().then(function(t){e.treeData=t})},onChange:function(e){if(void 0===e)return this.$message.warning("选择错误，请重新选择"),!1;this.$emit("change",e?parseInt(e):0)}},watch:{},created:function(){this.init()}},s=o,l=n("2877"),c=Object(l["a"])(s,i,a,!1,null,null,null);c.options.__file="SelectUser.vue";t["a"]=c.exports},c424:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-date-picker",{staticStyle:{width:"190px"},attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss",placeholder:e.placeholder,value:e.getValue(e.value)},on:{change:e.onChange,ok:e.onOk}})},a=[],r=(n("c5f6"),{props:{value:{type:Number,required:!1},placeholder:{required:!1,type:String,default:function(){return"点击选择"}}},model:{prop:"value",event:"change"},methods:{getValue:function(e){return isNaN(e)?e:moment(1e3*e)},onChange:function(e,t){var n=e?e.valueOf()/1e3:null;console.log(parseInt(n)),this.$emit("change",parseInt(n))},onOk:function(e){var t=e?e.valueOf()/1e3:null;console.log(parseInt(t)),this.$emit("change",parseInt(t))}}}),o=r,s=n("2877"),l=Object(s["a"])(o,i,a,!1,null,null,null);l.options.__file="DateTime.vue";t["a"]=l.exports},e6f6:function(e,t,n){}}]);
//# sourceMappingURL=chunk-824a.23f27d2f.js.map