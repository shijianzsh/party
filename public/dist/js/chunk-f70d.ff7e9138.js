(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f70d"],{"08c5":function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return i}),n.d(t,"f",function(){return l}),n.d(t,"b",function(){return d});n("6b54"),n("7f7f"),n("f751");var a=n("66df"),r=n("c0d6"),o=(n("c405"),"exam_categories/"),s=function(e){var t=e.current_page,n=void 0===t?0:t,s=e.filter,u=void 0===s?{}:s,c={current_page:n,filter:u};return c=Object.assign(c,{token:r["a"].state.common.token,access_token:r["a"].state.common.access_token}),a["a"].request({url:o,method:"get",params:c})},u=function(){return s({current_page:0,filter:{}}).then(function(e){for(var t=[],n=0;n<e.data.rows.length;n++)t.push({id:e.data.rows[n].id,label:e.data.rows[n].name+" - 题目 "+e.data.rows[n].questions_count+" 题",value:e.data.rows[n].id.toString()});return t})},c=function(e){var t={token:r["a"].state.common.token,access_token:r["a"].state.common.access_token};return a["a"].request({url:o+e,method:"get",params:t})},i=function(e){var t={data:e},n={token:r["a"].state.common.token,access_token:r["a"].state.common.access_token};return a["a"].request({url:o,method:"post",data:t,params:n})},l=function(e,t){var n={data:t},s={token:r["a"].state.common.token,access_token:r["a"].state.common.access_token};return a["a"].request({url:o+e,method:"put",data:n,params:s})},d=function(e){var t={token:r["a"].state.common.token,access_token:r["a"].state.common.access_token};return a["a"].request({url:o+e,method:"delete",params:t})}},"0bfb":function(e,t,n){"use strict";var a=n("cb7c");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0e8f":function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"g",function(){return i}),n.d(t,"f",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return m}),n.d(t,"i",function(){return p}),n.d(t,"b",function(){return h});n("6b54"),n("7f7f"),n("f751"),n("cadf"),n("551c"),n("097d");var a=n("66df"),r=n("c0d6"),o="departments/",s=function(e){var t=e.current_page,n=void 0===t?0:t,s=e.filter,u=void 0===s?{}:s,c=e.with,i={current_page:n,filter:u,with:["parent"].concat(c||[])};return i=Object.assign(i,{token:r["a"].state.common.token,access_token:r["a"].state.common.access_token}),a["a"].request({url:o,method:"get",params:i})},u=function(e){var t=e.filter,n=void 0===t?{}:t,s=e.with,u={filter:n,with:["parent"].concat(s||[])};return u=Object.assign(u,{token:r["a"].state.common.token,access_token:r["a"].state.common.access_token}),a["a"].request({url:o+"select_component",method:"get",params:u})},c=function(e){var t={};return t=Object.assign(t,{token:r["a"].state.common.token,access_token:r["a"].state.common.access_token}),a["a"].request({url:o+e+"/coordinate",method:"get",params:t})},i=function(){return s({current_page:0,filter:{}}).then(function(e){for(var t={},n=0;n<e.data.rows.length;n++)t[e.data.rows[n].id]=e.data.rows[n];var a=10;while(a>0){for(var r in t)0!==t[r].parent_id&&t[r].level===a&&(t[t[r].parent_id].hasOwnProperty("children")||(t[t[r].parent_id].children=[]),t[t[r].parent_id].children.push(t[r]),delete t[r]);a--}var o=[];for(var s in t)o.push(t[s]);return e.data.rows=o,e})},l=function(){return u({filter:{}}).then(function(e){for(var t=e.data,n={},a=0;a<t.length;a++)n[t[a].id]={id:t[a].id,parent_id:t[a].parent_id,label:t[a].name,level:t[a].level,value:t[a].id.toString()};var r=10;while(r>0){for(var o in n)0!==n[o].parent_id&&n[o].level===r&&(n[n[o].parent_id].hasOwnProperty("children")||(n[n[o].parent_id].children=[]),n[n[o].parent_id].children.push(n[o]),delete n[o]);r--}var s=[];for(var u in n)s.push(n[u]);return s})},d=function(){return u({filter:{},with:["Users"]}).then(function(e){for(var t=e.data,n={},a=0;a<t.length;a++){for(var r=0;r<t[a].users.length;r++)t[a].users[r].label=t[a].users[r].user_name,t[a].users[r].value=t[a].users[r].id;n[t[a].id]={id:t[a].id,parent_id:t[a].parent_id,label:t[a].name+" - 人员 "+t[a].users_count+" 人",level:t[a].level,children:t[a].users}}var o=[];for(var s in n)delete n[s]["id"],o.push(n[s]);return o})},f=function(e){var t={token:r["a"].state.common.token,access_token:r["a"].state.common.access_token};return a["a"].request({url:o+e,method:"get",params:t})},m=function(e){var t={data:e},n={token:r["a"].state.common.token,access_token:r["a"].state.common.access_token};return a["a"].request({url:o,method:"post",data:t,params:n})},p=function(e,t){var n={data:t},s={token:r["a"].state.common.token,access_token:r["a"].state.common.access_token};return a["a"].request({url:o+e,method:"put",data:n,params:s})},h=function(e){var t={token:r["a"].state.common.token,access_token:r["a"].state.common.access_token};return a["a"].request({url:o+e,method:"delete",params:t})}},3846:function(e,t,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"423eb":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-tree-select",{style:e.styleValue,attrs:{treeData:e.treeData,value:null!==e.value&&0!==e.value?e.value.toString():null,searchPlaceholder:"请点击选择",treeNodeFilterProp:"label"},on:{change:e.onChange}})},r=[],o=(n("24b4"),n("08c5")),s={props:{value:{required:!1,default:function(){return""}},styleValue:{required:!1,default:function(){return{"min-width":"200px"}}}},model:{prop:"value",event:"change"},data:function(){return{treeData:[]}},methods:{init:function(){var e=this;Object(o["e"])().then(function(t){e.treeData=t})},onChange:function(e){this.$emit("change",e?parseInt(e):0)}},watch:{},created:function(){this.init()}},u=s,c=n("2877"),i=Object(c["a"])(u,a,r,!1,null,null,null);i.options.__file="SelectExamCategory.vue";t["a"]=i.exports},"424b":function(e,t,n){"use strict";var a=function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("a-form",{attrs:{autoFormCreate:function(t){e.form=t}},on:{submit:t.handleSubmit}},[t.id?t._e():a("a-form-item",{attrs:{label:"模板下载",labelCol:{span:5},wrapperCol:{span:18}}},[a("a",{attrs:{href:t.templateUrl,download:""}},[t._v("点击下载")])]),a("a-form-item",{attrs:{label:"上传用户",labelCol:{span:5},wrapperCol:{span:18},fieldDecoratorId:"user_id"}},[a("SelectUser")],1),a("a-form-item",{attrs:{label:"分类",labelCol:{span:5},wrapperCol:{span:18},fieldDecoratorId:"category_id"}},[a("SelectExamCategory")],1),a("a-form-item",{attrs:{label:"附件",labelCol:{span:5},wrapperCol:{span:18},fieldDecoratorId:"more_file"}},[a("upload-files",{attrs:{length:1}})],1),a("a-form-item",{attrs:{wrapperCol:{span:12,offset:5}}},[a("a-button",{attrs:{type:"primary",htmlType:"submit"}},[t._v("\n            提交\n        ")])],1)],1)},r=[],o=(n("c5f6"),n("bbf8")),s=n("c281"),u=n("423eb"),c=n("67f5"),i={components:{uploadFiles:c["a"],SelectUser:s["a"],SelectExamCategory:u["a"]},props:{id:{required:!1,type:Number,default:function(){return 0}}},data:function(){return{form:{}}},computed:{templateUrl:function(){return this.$store.state.common.fileBaseUrl+"考题模板.xlsx"}},methods:{init:function(){var e=this;this.id&&Object(o["c"])(this.id).then(function(t){e.form.setFieldsValue({user_id:t.data.user_id,category_id:t.data.category_id,more_file:t.data.more.file})})},beforeSubmit:function(){return!0},handleSubmit:function(e){var t,n=this;e.preventDefault(e);var a=this.form.getFieldsValue();t=this.id?Object(o["f"])(this.id,a):Object(o["a"])(a),t.then(function(){var e=n.id?"更新成功":"新增成功";n.$message.success(e)})}},mounted:function(){this.init()}},l=i,d=n("2877"),f=Object(d["a"])(l,a,r,!1,null,null,null);f.options.__file="Index.vue";t["a"]=f.exports},"67f5":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.ready?n("a-upload",{attrs:{name:"file",multiple:!0,action:this.$store.state.common.uploadUrl,headers:e.headers,defaultFileList:e.defaultFileList},on:{preview:e.handlePreview,change:e.handleChange}},[!e.value||e.value&&e.value.length<e.length?n("a-button",[n("a-icon",{attrs:{type:"upload"}}),e._v("\n            点击上传\n        ")],1):e._e()],1):n("div",[e._v("\n        数据加载中。。\n    ")])],1)},r=[],o=(n("7f7f"),n("c5f6"),{props:{value:{required:!1,type:[Array],default:function(){return[]}},length:{required:!1,type:Number,default:function(){return 1}}},model:{prop:"value",event:"change"},data:function(){return{ready:!1,headers:{authorization:"authorization-text"}}},computed:{defaultFileList:function(){return this.value?this.value:[]}},methods:{handleChange:function(e){if(e.file.status,"done"===e.file.status&&1===e.file.response.success)this.$message.success("".concat(e.file.name," file uploaded successfully"));else if("error"===e.file.status)return void this.$message.error("".concat(e.file.name," file upload failed."));this.updateList(e.fileList)},handlePreview:function(e){var t=e.url?this.$store.state.common.fileBaseUrl+e.url:null;t=t||e.thumbUrl},updateList:function(e){for(var t=e,n=[],a=0;a<t.length;a++)t[a].hasOwnProperty("response")&&t[a].response&&(t[a].url=t[a].response.data),n.push(t[a]),n[a].originFileObj=null,n[a].lastModifiedDate=null;this.$emit("change",n)}},mounted:function(){var e=this;setTimeout(function(){e.ready=!0},3e3)}}),s=o,u=n("2877"),c=Object(u["a"])(s,a,r,!1,null,null,null);c.options.__file="UploadFiles.vue";t["a"]=c.exports},"6b54":function(e,t,n){"use strict";n("3846");var a=n("cb7c"),r=n("0bfb"),o=n("9e1e"),s="toString",u=/./[s],c=function(e){n("2aba")(RegExp.prototype,s,e,!0)};n("79e5")(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?c(function(){var e=a(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?r.call(e):void 0)}):u.name!=s&&c(function(){return u.call(this)})},bbf8:function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return i}),n.d(t,"f",function(){return l}),n.d(t,"b",function(){return d});n("f751");var a=n("66df"),r=n("c0d6"),o="exam_excels/",s=function(e){var t=e.current_page,n=void 0===t?0:t,s=e.filter,u=void 0===s?{}:s,c={current_page:n,filter:u};return c=Object.assign(c,{token:r["a"].state.common.token,access_token:r["a"].state.common.access_token}),a["a"].request({url:o,method:"get",params:c})},u=function(e){var t=e.current_page,n=void 0===t?0:t,a=e.filter,o=void 0===a?{}:a,u={current_page:n,filter:Object.assign({user_id:r["a"].state.common.user_id},o)};return s(u)},c=function(e){var t={token:r["a"].state.common.token,access_token:r["a"].state.common.access_token};return a["a"].request({url:o+e,method:"get",params:t})},i=function(e){var t={data:e},n={token:r["a"].state.common.token,access_token:r["a"].state.common.access_token};return a["a"].request({url:o,method:"post",data:t,params:n})},l=function(e,t){var n={data:t},s={token:r["a"].state.common.token,access_token:r["a"].state.common.access_token};return a["a"].request({url:o+e,method:"put",data:n,params:s})},d=function(e){var t={token:r["a"].state.common.token,access_token:r["a"].state.common.access_token};return a["a"].request({url:o+e,method:"delete",params:t})}},c281:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-tree-select",{style:e.styleValue,attrs:{treeData:e.treeData,value:e.getValue(e.value),searchPlaceholder:"请点击选择",treeNodeFilterProp:"label",disabled:e.disabled},on:{change:e.onChange}})},r=[],o=(n("24b4"),n("0e8f")),s={props:{value:{required:!1,default:function(){return""}},styleValue:{required:!1,default:function(){return{"min-width":"200px"}}},disabled:{required:!1,type:Boolean,default:function(){return!1}}},model:{prop:"value",event:"change"},data:function(){return{treeData:[]}},methods:{getValue:function(e){return[e]},init:function(){var e=this;Object(o["h"])().then(function(t){e.treeData=t})},onChange:function(e){if(void 0===e)return this.$message.warning("选择错误，请重新选择"),!1;this.$emit("change",e?parseInt(e):0)}},watch:{},created:function(){this.init()}},u=s,c=n("2877"),i=Object(c["a"])(u,a,r,!1,null,null,null);i.options.__file="SelectUser.vue";t["a"]=i.exports},c405:function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"f",function(){return c}),n.d(t,"e",function(){return i}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"g",function(){return f}),n.d(t,"b",function(){return m});n("6b54"),n("7f7f"),n("f751");var a=n("66df"),r=n("c0d6"),o="categories/",s=function(e){var t=e.current_page,n=void 0===t?0:t,s=e.filter,u=void 0===s?{}:s,c={current_page:n,filter:u};return c=Object.assign(c,{token:r["a"].state.common.token,access_token:r["a"].state.common.access_token}),a["a"].request({url:o,method:"get",params:c})},u=function(e){var t={};return t=Object.assign(t,{token:r["a"].state.common.token,access_token:r["a"].state.common.access_token}),a["a"].request({url:o+e+"/children_and_published_article",method:"get",params:t})},c=function(){return s({current_page:0,filter:{}}).then(function(e){for(var t={},n=0;n<e.data.rows.length;n++)t[e.data.rows[n].id]=e.data.rows[n];var a=10;while(a>0){for(var r in t)0!==t[r].parent_id&&t[r].level===a&&(t[t[r].parent_id].hasOwnProperty("children")||(t[t[r].parent_id].children=[]),t[t[r].parent_id].children.push(t[r]),delete t[r]);a--}var o=[];for(var s in t)o.push(t[s]);return o})},i=function(){return s({current_page:0,filter:{}}).then(function(e){for(var t={},n=0;n<e.data.rows.length;n++)t[e.data.rows[n].id]={id:e.data.rows[n].id,parent_id:e.data.rows[n].parent_id,label:e.data.rows[n].name+" - 文章 "+e.data.rows[n].posts_count+" 篇",level:e.data.rows[n].level,value:e.data.rows[n].id.toString()};var a=10;while(a>0){for(var r in t)0!==t[r].parent_id&&t[r].level===a&&(t[t[r].parent_id].hasOwnProperty("children")||(t[t[r].parent_id].children=[]),t[t[r].parent_id].children.push(t[r]),delete t[r]);a--}var o=[];for(var s in t)o.push(t[s]);return o})},l=function(e){var t={token:r["a"].state.common.token,access_token:r["a"].state.common.access_token};return a["a"].request({url:o+e,method:"get",params:t})},d=function(e){var t={data:e},n={token:r["a"].state.common.token,access_token:r["a"].state.common.access_token};return a["a"].request({url:o,method:"post",data:t,params:n})},f=function(e,t){var n={data:t},s={token:r["a"].state.common.token,access_token:r["a"].state.common.access_token};return a["a"].request({url:o+e,method:"put",data:n,params:s})},m=function(e){var t={token:r["a"].state.common.token,access_token:r["a"].state.common.access_token};return a["a"].request({url:o+e,method:"delete",params:t})}}}]);
//# sourceMappingURL=chunk-f70d.ff7e9138.js.map